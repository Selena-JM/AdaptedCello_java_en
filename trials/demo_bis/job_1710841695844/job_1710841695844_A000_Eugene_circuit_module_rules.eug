PartType rbs;
PartType cds;
PartType scar;
PartType promoter;
PartType terminator;
PartType ribozyme;

cds AmtR(.SEQUENCE("ATGGCAGGCGCAGTTGGTCGTCCGCGTCGTAGTGCACCGCGTCGTGCAGGTAAAAATCCGCGTGAAGAAATTCTGGATGCAAGCGCAGAACTGTTTACCCGTCAGGGTTTTGCAACCACCAGTACCCATCAGATTGCAGATGCAGTTGGTATTCGTCAGGCAAGCCTGTATTATCATTTTCCGAGCAAAACCGAAATCTTTCTGACCCTGCTGAAAAGCACCGTTGAACCGAGCACCGTTCTGGCAGAAGATCTGAGCACCCTGGATGCAGGTCCGGAAATGCGTCTGTGGGCAATTGTTGCAAGCGAAGTTCGTCTGCTGCTGAGCACCAAATGGAATGTTGGTCGTCTGTATCAGCTGCCGATTGTTGGTAGCGAAGAATTTGCAGAATATCATAGCCAGCGTGAAGCACTGACCAATGTTTTTCGTGATCTGGCAACCGAAATTGTTGGTGATGATCCGCGTGCAGAACTGCCGTTTCATATTACCATGAGCGTTATTGAAATGCGTCGCAATGATGGTAAAATTCCGAGTCCGCTGAGCGCAGATAGCCTGCCGGAAACCGCAATTATGCTGGCAGATGCAAGCCTGGCAGTTCTGGGTGCACCGCTGCCTGCAGATCGTGTTGAAAAAACCCTGGAACTGATTAAACAGGCAGATGCAAAATAA"));
cds BM3R1(.SEQUENCE("ATGGAAAGCACCCCGACCAAACAGAAAGCAATTTTTAGCGCAAGCCTGCTGCTGTTTGCAGAACGTGGTTTTGATGCAACCACCATGCCGATGATTGCAGAAAATGCAAAAGTTGGTGCAGGCACCATTTATCGCTATTTCAAAAACAAAGAAAGCCTGGTGAACGAACTGTTTCAGCAGCATGTTAATGAATTTCTGCAGTGTATTGAAAGCGGTCTGGCAAATGAACGTGATGGTTATCGTGATGGCTTTCATCACATTTTTGAAGGTATGGTGACCTTTACCAAAAATCATCCGCGTGCACTGGGTTTTATCAAAACCCATAGCCAGGGCACCTTTCTGACCGAAGAAAGCCGTCTGGCATATCAGAAACTGGTTGAATTTGTGTGCACCTTTTTTCGTGAAGGTCAGAAACAGGGTGTGATTCGTAATCTGCCGGAAAATGCACTGATTGCAATTCTGTTTGGCAGCTTTATGGAAGTGTATGAAATGATCGAGAACGATTATCTGAGCCTGACCGATGAACTGCTGACCGGTGTTGAAGAAAGCCTGTGGGCAGCACTGAGCCGTCAGAGCTAA"));
cds HlyIIR(.SEQUENCE("ATGAAATACATCCTGTTTGAGGTGTGCGAAATGGGTAAAAGCCGTGAACAGACCATGGAAAATATTCTGAAAGCAGCCAAAAAGAAATTCGGCGAACGTGGTTATGAAGGCACCAGCATTCAAGAAATTACCAAAGAAGCCAAAGTTAACGTTGCAATGGCCAGCTATTACTTTAATGGCAAAGAGAACCTGTACTACGAGGTGTTCAAAAAATACGGTCTGGCAAATGAACTGCCGAACTTTCTGGAAAAAAACCAGTTTAATCCGATTAATGCCCTGCGTGAATATCTGACCGTTTTTACCACCCACATTAAAGAAAATCCGGAAATTGGCACCCTGGCCTATGAAGAAATTATCAAAGAAAGCGCACGCCTGGAAAAAATCAAACCGTATTTTATCGGCAGCTTCGAACAGCTGAAAGAAATTCTGCAAGAGGGTGAAAAACAGGGTGTGTTTCACTTTTTTAGCATCAACCATACCATCCATTGGATTACCAGCATTGTTCTGTTTCCGAAATTCAAAAAATTCATCGATAGCCTGGGTCCGAATGAAACCAATGATACCAATCATGAATGGATGCCGGAAGATCTGGTTAGCCGTATTATTAGCGCACTGACCGATAAACCGAACATTTAA"));
cds LmrA(.SEQUENCE("ATGAGCTATGGTGATAGCCGTGAAAAAATTCTGAGCGCAGCAACCCGTCTGTTTCAGCTGCAGGGTTATTATGGCACCGGTCTGAATCAGATTATCAAAGAAAGCGGTGCACCGAAAGGTAGCCTGTATTATCATTTTCCGGGTGGTAAAGAACAGCTGGCAATTGAAGCAGTGAACGAAATGAAAGAATATATCCGCCAGAAAATCGCCGATTGTATGGAAGCATGTACCGATCCGGCAGAAGGTATTCAGGCATTTCTGAAAGAACTGAGCTGTCAGTTTAGCTGTACCGAAGATATTGAAGGTCTGCCGGTTGGTCTGCTGGCAGCAGAAACCAGCCTGAAAAGCGAACCGCTGCGTGAAGCATGTCATGAAGCATATAAAGAATGGGCCAGCGTGTATGAAGAAAAACTGCGTCAGACCGGTTGTAGCGAAAGCCGTGCAAAAGAAGCAAGCACCGTTGTTAATGCAATGATTGAAGGTGGTATTCTGCTGAGCCTGACCGCAAAAAATAGCACACCGCTGCTGCATATTAGCAGCTGTATTCCGGATCTGCTGAAACGTTAA"));
cds PhlF(.SEQUENCE("ATGGCACGTACCCCGAGCCGTAGCAGCATTGGTAGCCTGCGTAGTCCGCATACCCATAAAGCAATTCTGACCAGCACCATTGAAATCCTGAAAGAATGTGGTTATAGCGGTCTGAGCATTGAAAGCGTTGCACGTCGTGCCGGTGCAAGCAAACCGACCATTTATCGTTGGTGGACCAATAAAGCAGCACTGATTGCCGAAGTGTATGAAAATGAAAGCGAACAGGTGCGTAAATTTCCGGATCTGGGTAGCTTTAAAGCCGATCTGGATTTTCTGCTGCGTAATCTGTGGAAAGTTTGGCGTGAAACCATTTGTGGTGAAGCATTTCGTTGTGTTATTGCAGAAGCACAGCTGGACCCTGCAACCCTGACCCAGCTGAAAGATCAGTTTATGGAACGTCGTCGTGAGATGCCGAAAAAACTGGTTGAAAATGCCATTAGCAATGGTGAACTGCCGAAAGATACCAATCGTGAACTGCTGCTGGATATGATTTTTGGTTTTTGTTGGTATCGCCTGCTGACCGAACAGCTGACCGTTGAACAGGATATTGAAGAATTTACCTTCCTGCTGATTAATGGTGTTTGTCCGGGTACACAGCGTTAA"));
cds SrpR(.SEQUENCE("ATGGCACGTAAAACCGCAGCAGAAGCAGAAGAAACCCGTCAGCGTATTATTGATGCAGCACTGGAAGTTTTTGTTGCACAGGGTGTTAGTGATGCAACCCTGGATCAGATTGCACGTAAAGCCGGTGTTACCCGTGGTGCAGTTTATTGGCATTTTAATGGTAAACTGGAAGTTCTGCAGGCAGTTCTGGCAAGCCGTCAGCATCCGCTGGAACTGGATTTTACACCGGATCTGGGTATTGAACGTAGCTGGGAAGCAGTTGTTGTTGCAATGCTGGATGCAGTTCATAGTCCGCAGAGCAAACAGTTTAGCGAAATTCTGATTTATCAGGGTCTGGATGAAAGCGGTCTGATTCATAATCGTATGGTTCAGGCAAGCGATCGTTTTCTGCAGTATATTCATCAGGTTCTGCGTCATGCAGTTACCCAGGGTGAACTGCCGATTAATCTGGATCTGCAGACCAGCATTGGTGTTTTTAAAGGTCTGATTACCGGTCTGCTGTATGAAGGTCTGCGTAGCAAAGATCAGCAGGCACAGATTATCAAAGTTGCACTGGGTAGCTTTTGGGCACTGCTGCGTGAACCGCCTCGTTTTCTGCTGTGTGAAGAAGCACAGATTAAACAGGTGAAATCCTTCGAATAA"));
promoter pAmtR(.SEQUENCE("CTTGTCCAACCAAATGATTCGTTACCAATTGACAGTTTCTATCGATCTATAGATAATGCTAGC"));
promoter pBAD(.SEQUENCE("ACTTTTCATACTCCCGCCATTCAGAGAAGAAACCAATTGTCCATATTGCATCAGACATTGCCGTCACTGCGTCTTTTACTGGCTCTTCTCGCTAACCAAACCGGTAACCCCGCTTATTAAAAGCATTCTGTAACAAAGCGGGACCAAAGCCATGACAAAAACGCGTAACAAAAGTGTCTATAATCACGGCAGAAAAGTCCACATTGATTATTTGCACGGCGTCACACTTTGCTATGCCATAGCATTTTTATCCATAAGATTAGCGGATCCTACCTGACGCTTTTTATCGCAACTCTCTACTGTTTCTCCATACCCGTTTTTTTGGGCTAGC"));
promoter pHlyIIR(.SEQUENCE("ACCAGGAATCTGAACGATTCGTTACCAATTGACATATTTAAAATTCTTGTTTAAAatgctagc"));
promoter pLmrA(.SEQUENCE("CGCTCATTCACTAGGTCTGATTCGTTACCAATTGACAACTGGTGGTCGAATCAAGATAATAGACCAGTCACTATATTT"));
promoter pPhlF(.SEQUENCE("CGACGTACGGTGGAAtctgattcgttaccaattgacATGATACGAAACGTACCGTATCGTTAAGGT"));
promoter pSrpR(.SEQUENCE("TCTATGATTGGTCCAGATTCGTTACCAATTGACAGCTAGCTCAGTCCTAGGTATATACATACATGCTTGTTTGTTTGTAAAC"));
promoter pTac(.SEQUENCE("AACGATCGTTGGCTGTGTTGACAATTAATCATCGGCTCGTATAATGTGTGGAATTGTGAGCGCTCACAATT"));
promoter pTet(.SEQUENCE("TACTCCACCGTTGGCTTTTTTCCCTATCAGTGATAGAGATTGACATCCCTATCAGTGATAGAGATAATGAGCAC"));
rbs A1(.SEQUENCE("AATGTTCCCTAATAATCAGCAAAGAGGTTACTAG"));
rbs B3(.SEQUENCE("CCAAACGAGGCCGGGAGG"));
rbs H1(.SEQUENCE("ACCCCCGAG"));
rbs N1(.SEQUENCE("TACGCTATGGACTATGTTTTCTGCTATGGACTATGTTTTCACACACGAGATGCCTCG"));
rbs P3(.SEQUENCE("CTTTACGAGGGCGATCCT"));
rbs S2(.SEQUENCE("GAGTCTATGGACTATGTTTTCACATATGAGATACCAGG"));
ribozyme BydvJ(.SEQUENCE("CTGAagGGTGTCTCAAGGTGCGTACCTTGACTGATGAGTCCGAAAGGACGAAACACCcctctacaaataattttgtttaa"));
ribozyme RiboJ10(.SEQUENCE("CTGAAGCGCTCAACGGGTGTGCTTCCCGTTCTGATGAGTCCGTGAGGACGAAAGCGCCTCTACAAATAATTTTGTTTAA"));
ribozyme RiboJ51(.SEQUENCE("CTGAAGTAGTCACCGGCTGTGCTTGCCGGTCTGATGAGCCTGTGAAGGCGAAACTACCTCTACAAATAATTTTGTTTAA"));
ribozyme RiboJ53(.SEQUENCE("CTGAAGCGGTCAACGCATGTGCTTTGCGTTCTGATGAGACAGTGATGTCGAAACCGCCTCTACAAATAATTTTGTTTAA"));
ribozyme RiboJ64(.SEQUENCE("AGGAGTCAATTAATGTGCTTTTAATTCTGATGAGACGGTGACGTCGAAACTCCCTCTACAAATAATTTTGTTTAA"));
ribozyme SarJ(.SEQUENCE("CTGAGACTGTCGCCGGATGTGTATCCGACCTGACGATGGCCCAAAAGGGCCGAAACAGTCCTCTACAAATAATTTTGTTTAA"));
scar Cscar(.SEQUENCE("aatg"));
scar Dscar(.SEQUENCE("aggt"));
scar Escar(.SEQUENCE("gctt"));
scar Fscar(.SEQUENCE("cgct"));
scar Uscar(.SEQUENCE("gggc"));
scar Vscar(.SEQUENCE("tctg"));
scar Xscar(.SEQUENCE("tgtc"));
terminator ECK120010876(.SEQUENCE("taaggttgaaAAATAAAAACGGCGCTAAAAAGCGCCGTTTTTTTTgacggtggta"));
terminator ECK120029600(.SEQUENCE("TTCAGCCAAAAAACTTAAGACCGCCGGTCTTGTCCACTACCTTGCAGTAATGCGGTGGACAGGATCGGCGGTTTTCTTTTCTCTTCTCAA"));
terminator ECK120033736(.SEQUENCE("aacgcatgagAAAGCCCCCGGAAGATCACCTTCCGGGGGCTTTtttattgcgc"));
terminator ECK120033737(.SEQUENCE("ggaaacacagAAAAAAGCCCGCACCTGACAGTGCGGGCTTTTTTTTTcgaccaaagg"));
terminator L3S2P11(.SEQUENCE("CTCGGTACCAAATTCCAGAAAAGAGACGCTTTCGAGCGTCTTTTTTCGTTTTGGTCC"));
terminator L3S2P55(.SEQUENCE("CTCGGTACCAAAGACGAACAATAAGACGCTGAAAAGCGTCTTTTTTCGTTTTGGTCC"));

Device BM3R1_device(
   promoter,
   promoter,
   SarJ,
   B3,
   BM3R1,
   L3S2P11
);
Device LmrA_device(
   promoter,
   RiboJ64,
   N1,
   LmrA,
   ECK120010876
);
Device AmtR_device(
   promoter,
   BydvJ,
   A1,
   AmtR,
   L3S2P55
);
Device SrpR_device(
   promoter,
   RiboJ10,
   S2,
   SrpR,
   ECK120029600
);
Device PhlF_device(
   promoter,
   promoter,
   RiboJ53,
   P3,
   PhlF,
   ECK120033737
);
Device HlyIIR_device(
   promoter,
   RiboJ51,
   H1,
   HlyIIR,
   ECK120033736
);

Rule BM3R1_rules ( ON BM3R1_device:
   CONTAINS pAmtR AND 
   CONTAINS pHlyIIR AND 
   pAmtR BEFORE pHlyIIR AND
   ALL_FORWARD
);
Rule LmrA_rules ( ON LmrA_device:
   CONTAINS pTac AND 
   STARTSWITH pTac AND
   ALL_FORWARD
);
Rule AmtR_rules ( ON AmtR_device:
   CONTAINS pBAD AND 
   STARTSWITH pBAD AND
   ALL_FORWARD
);
Rule SrpR_rules ( ON SrpR_device:
   CONTAINS pTet AND
   ALL_FORWARD
);
Rule PhlF_rules ( ON PhlF_device:
   CONTAINS pSrpR AND 
   CONTAINS pLmrA AND 
   STARTSWITH pSrpR AND 
   pSrpR BEFORE pLmrA AND
   ALL_FORWARD
);
Rule HlyIIR_rules ( ON HlyIIR_device:
   CONTAINS pPhlF AND 
   STARTSWITH pPhlF AND
   ALL_FORWARD
);


BM3R1_devices   = product(BM3R1_device);
LmrA_devices    = product(LmrA_device);
AmtR_devices    = product(AmtR_device);
SrpR_devices    = product(SrpR_device);
PhlF_devices    = product(PhlF_device);
HlyIIR_devices  = product(HlyIIR_device);

Device gate_BM3R1();
Device gate_LmrA();
Device gate_AmtR();
Device gate_SrpR();
Device gate_PhlF();
Device gate_HlyIIR();

Device circuit();

Rule allRules( ON circuit:
   gate_BM3R1   EXACTLY 1 AND 
   gate_LmrA    EXACTLY 1 AND 
   gate_AmtR    EXACTLY 1 AND 
   gate_SrpR    EXACTLY 1 AND 
   gate_PhlF    EXACTLY 1 AND 
   gate_HlyIIR  EXACTLY 1 AND 
   gate_PhlF BEFORE gate_SrpR AND 
   gate_PhlF BEFORE gate_BM3R1 AND 
   gate_PhlF BEFORE gate_LmrA AND 
   gate_PhlF BEFORE gate_HlyIIR AND 
   gate_PhlF BEFORE gate_AmtR AND 
   gate_SrpR BEFORE gate_BM3R1 AND 
   gate_SrpR BEFORE gate_LmrA AND 
   gate_SrpR BEFORE gate_HlyIIR AND 
   gate_SrpR BEFORE gate_AmtR AND 
   gate_BM3R1 BEFORE gate_LmrA AND 
   gate_BM3R1 BEFORE gate_HlyIIR AND 
   gate_BM3R1 BEFORE gate_AmtR AND 
   gate_LmrA BEFORE gate_HlyIIR AND 
   gate_LmrA BEFORE gate_AmtR AND 
   gate_HlyIIR BEFORE gate_AmtR AND 
   ALL_FORWARD AND 
   ALL_FORWARD AND 
   Escar        EXACTLY 1 AND 
   Xscar        EXACTLY 1 AND 
   Vscar        EXACTLY 1 AND 
   Uscar        EXACTLY 1 AND 
   Fscar        EXACTLY 1 AND 
   Dscar        EXACTLY 1 AND 
   Cscar        EXACTLY 1 AND 
   FORWARD Escar AND 
   FORWARD Xscar AND 
   FORWARD Vscar AND 
   FORWARD Uscar AND 
   FORWARD Fscar AND 
   FORWARD Dscar AND 
   FORWARD Cscar AND 
   [0] EQUALS Escar AND 
   [2] EQUALS Xscar AND 
   [4] EQUALS Vscar AND 
   [6] EQUALS Uscar AND 
   [8] EQUALS Fscar AND 
   [10] EQUALS Dscar AND 
   [12] EQUALS Cscar
);

Array allResults;

for(num i1=0;  i1<sizeof(BM3R1_devices);   i1=i1+1) {
for(num i2=0;  i2<sizeof(LmrA_devices);    i2=i2+1) {
for(num i3=0;  i3<sizeof(AmtR_devices);    i3=i3+1) {
for(num i4=0;  i4<sizeof(SrpR_devices);    i4=i4+1) {
for(num i5=0;  i5<sizeof(PhlF_devices);    i5=i5+1) {
for(num i6=0;  i6<sizeof(HlyIIR_devices);  i6=i6+1) {

gate_BM3R1   = BM3R1_devices[i1];
gate_LmrA    = LmrA_devices[i2];
gate_AmtR    = AmtR_devices[i3];
gate_SrpR    = SrpR_devices[i4];
gate_PhlF    = PhlF_devices[i5];
gate_HlyIIR  = HlyIIR_devices[i6];

Device circuit(
   gate_BM3R1,
   gate_LmrA,
   gate_AmtR,
   gate_SrpR,
   gate_PhlF,
   gate_HlyIIR,
   Escar,
   Xscar,
   Vscar,
   Uscar,
   Fscar,
   Dscar,
   Cscar
);

result = permute(circuit);

allResults = allResults + result;

}
}
}
}
}
}
